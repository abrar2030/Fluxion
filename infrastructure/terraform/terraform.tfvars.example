# Fluxion Terraform Variables Example
# Copy this file to terraform.tfvars and fill in your values
# DO NOT commit terraform.tfvars to version control

# AWS Configuration
aws_region = "us-east-1"

# Environment
environment = "dev"  # Options: dev, staging, prod
app_name    = "fluxion"

# Network Configuration
vpc_cidr              = "10.0.0.0/16"
availability_zones    = ["us-east-1a", "us-east-1b", "us-east-1c"]
public_subnet_cidrs   = ["10.0.1.0/24", "10.0.2.0/24", "10.0.3.0/24"]
private_subnet_cidrs  = ["10.0.11.0/24", "10.0.12.0/24", "10.0.13.0/24"]
enable_nat_gateway    = true
enable_vpn_gateway    = false
enable_flow_logs      = true

# Security Features
enable_guardduty    = true
enable_config       = true
enable_cloudtrail   = true
enable_security_hub = true
enable_inspector    = true

# Database Configuration
db_instance_class = "db.t3.medium"
db_name           = "fluxion"
db_username       = "fluxion_admin"
# IMPORTANT: Set db_password via environment variable: export TF_VAR_db_password="your-secure-password"
# OR set it here (NOT RECOMMENDED for production): db_password = "changeme"
db_allocated_storage       = 100
db_max_allocated_storage   = 1000
db_backup_retention_period = 7
db_backup_window           = "03:00-04:00"
db_maintenance_window      = "sun:04:00-sun:05:00"
db_multi_az                = true
db_deletion_protection     = true
db_skip_final_snapshot     = false
db_performance_insights    = true
db_monitoring_interval     = 60

# Compute Configuration
instance_type        = "t3.medium"
key_name             = "fluxion-key"  # Your AWS EC2 key pair name
asg_min_size         = 2
asg_max_size         = 10
asg_desired_capacity = 2
enable_detailed_monitoring = true

# Load Balancer
enable_alb          = true
alb_certificate_arn = "arn:aws:acm:us-east-1:123456789012:certificate/example"  # Replace with your ACM cert ARN
health_check_path   = "/health"

# Storage
enable_s3_versioning = true
enable_s3_mfa_delete = false
backup_retention_days = 2555  # 7 years for financial compliance
s3_lifecycle_rules = []

# KMS
kms_deletion_window  = 30
enable_multi_region  = false

# Tags
default_tags = {
  Owner       = "DevOps Team"
  CostCenter  = "Engineering"
  Compliance  = "Financial"
}

# S3 Buckets for Security Services
cloudtrail_s3_bucket = "fluxion-cloudtrail-logs"  # Must be globally unique
config_s3_bucket     = "fluxion-config-logs"      # Must be globally unique

# Optional: Cross-Account Role
assume_role_arn         = null  # Set if deploying to different AWS account
assume_role_external_id = null  # Set if using external ID for assume role

# Optional: Terraform State Backend (configure in backend.tf)
# terraform_state_bucket     = "fluxion-terraform-state"
# terraform_state_kms_key    = "arn:aws:kms:us-east-1:123456789012:key/example"
# terraform_state_lock_table = "fluxion-terraform-lock"
